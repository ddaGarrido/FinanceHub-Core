spring:
  application:
    name: finance-hub-backend
  datasource:
    url: ${SPRING_DATASOURCE_URL}
    username: ${SPRING_DATASOURCE_USERNAME}
    password: ${SPRING_DATASOURCE_PASSWORD}
  jpa:
    hibernate:
      ddl-auto: validate
    properties:
      hibernate.format_sql: true
      hibernate.jdbc.time_zone: UTC
  flyway:
    enabled: true
    locations: classpath:db/migration

server:
  port: 8080

management:
  endpoints:
    web:
      exposure:
        include: health,info,prometheus,metrics
  metrics:
    tags:
      application: ${spring.application.name}
  endpoint:
    health:
      probes:
        enabled: true

logging:
  level:
    root: INFO
    org.springframework.security: INFO
  pattern:
    console: "%d{ISO8601} %-5level [%X{correlationId}] %logger - %msg%n"

security:
  jwt:
    access-secret: ${JWT_ACCESS_SECRET}
    refresh-secret: ${JWT_REFRESH_SECRET}
    access-ttl-minutes: ${JWT_ACCESS_EXPIRATION}
    refresh-ttl-days: ${JWT_REFRESH_EXPIRATION}

financehub:
  credentials:
    health:
      enabled: false
      cron: "0 0 3 * * *" # daily 03:00
  secrets:
    master-key: ${FINANCEHUB_MASTER_KEY}
#  vault:
#    url: ${VAULT_ADDR:http://localhost:8200}
#    token: ${VAULT_TOKEN:root}
#    kvMount: ${VAULT_KV_MOUNT:secret}
